type: willpower

entries:
  lightning_bolt:
    name: Lightning Bolt
    flavor: Call down the fury of the storm.
    description: "2d6 lightning damage to all enemies in a line."
    category: active
    targeting: line
    range: 8
    willpowerCost: 3
    prerequisites:
      level: 99
    tags:
      - spell
      - lightning
      - damage
      - line
    effects:
      - sound: lightning_bolt
        visual:
          beam: lightning_beam
        steps:
          - type: damage
            dice: 2d6
            damageType: Lightning

  chain_lightning:
    name: Chain Lightning
    flavor: Let the lightning find its own path.
    description: "2d4 lightning, bounces to 3 nearby enemies (75% per bounce)."
    category: active
    targeting: enemy
    range: 6
    willpowerCost: 4
    prerequisites:
      level: 99
    tags:
      - spell
      - lightning
      - damage
    effects:
      - steps:
          - type: chain_damage
            dice: 2d4
            damageType: Lightning
            maxBounces: 3
            bounceRange: 4
            damageFalloff: 0.75

  magic_missile:
    name: Magic Missile
    flavor: A mote of arcane force that never misses its mark.
    description: "1d6+WIL damage, auto-hit, range 6."
    category: active
    targeting: enemy
    range: 6
    willpowerCost: 3
    projectile: magic_missile
    prerequisites:
      wil: 1
    tags:
      - spell
      - damage
      - ranged
    effects:
      - sound: magic_missile
        steps:
          - type: damage
            dice: 1d6
            damageType: Bludgeoning
            scalingStat: wil
            scalingMultiplier: 1.0

  attunement:
    name: Attunement
    flavor: The flow of magic reveals its secrets to you.
    description: "Sense charge levels on wands and staves."
    category: passive
    targeting: self
    willpowerCost: 0
    tags:
      - magic
      - utility

  minor_heal:
    name: Minor Heal
    flavor: Channel restorative energy through your touch.
    description: "Heal 2d6 HP to self or adjacent ally."
    category: active
    targeting: ally
    range: 1
    willpowerCost: 4
    prerequisites:
      wil: 2
    tags:
      - spell
      - heal
    effects:
      - steps:
          - type: heal
            dice: 2d6

  acid_blast:
    name: Acid Blast
    flavor: Conjure a glob of caustic acid that eats through armor.
    description: "2d6 acid (ignores 3 armor), applies acid DoT 2d3 turns."
    category: active
    targeting: enemy
    range: 6
    willpowerCost: 4
    projectile: acid_blast
    prerequisites:
      wil: 2
    tags:
      - spell
      - damage
      - acid
      - ranged
    effects:
      - sound: acid_blast
        steps:
          - type: attack_roll
            attackStat: wil
          - type: damage
            dice: 2d6
            damageType: Acid
            armorPiercing: 3
          - type: apply_condition
            conditionType: acid
            duration: 2d3
            dotDamage: 1d3
            armorPiercing: 3
            requireDamageDealt: true

  mana_shield:
    name: Mana Shield
    flavor: Weave your willpower into a protective barrier.
    description: "On damage: Spend 2 WP to reduce damage by 3."
    category: reactive
    targeting: self
    willpowerCost: 0
    triggerCost: 2
    trigger: on_damage
    autoTrigger: true
    prerequisites:
      wil: 3
    tags:
      - magic
      - defense
    effects:
      - type: reduce_damage
        amount: 3
