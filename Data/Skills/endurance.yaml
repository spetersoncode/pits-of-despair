type: endurance

entries:
  second_wind:
    name: Second Wind
    flavor: Dig deep and find the strength to carry on.
    description: "Heal END x 3 HP. Once per floor."
    category: active
    targeting: self
    willpowerCost: 4
    prerequisites:
      end: 1
    tags:
      - heal
      - once_per_floor
    effects:
      - steps:
          - type: heal
            scalingStat: end
            scalingMultiplier: 3

  shoulder_charge:
    name: Shoulder Charge
    flavor: Sometimes the direct approach works best.
    description: "1d6+END damage, knockback 2. Collision: END save or stunned."
    category: active
    targeting: adjacent
    willpowerCost: 3
    prerequisites:
      end: 2
    tags:
      - melee
      - damage
      - knockback
      - crowd_control
    effects:
      - steps:
          - type: damage
            dice: 1d6
            scalingStat: end
            scalingMultiplier: 1
          - type: knockback
            distance: 2
            onCollision:
              - type: save_check
                saveStat: end
                attackStat: end
                stopOnSuccess: true
              - type: apply_condition
                conditionType: stun
                duration: 1d4

  grapple:
    name: Grapple
    flavor: Get your hands on them and don't let go.
    description: "END save or daze 1 turn, grapple 3 turns. Moving breaks grapple."
    category: active
    targeting: adjacent
    willpowerCost: 4
    prerequisites:
      end: 3
    tags:
      - melee
      - crowd_control
    effects:
      - steps:
          - type: save_check
            saveStat: end
            attackStat: end
            stopOnSuccess: true
          - type: apply_condition
            conditionType: daze
            duration: "1"
            requireSaveFailed: true
          - type: apply_condition
            conditionType: grappled
            duration: "3"
            requireSaveFailed: true

  thick_skin:
    name: Thick Skin
    flavor: Scars upon scars have made you harder to hurt.
    description: "+1 armor."
    category: passive
    targeting: self
    willpowerCost: 0
    prerequisites:
      end: 4
    tags:
      - defense
    effects:
      - type: armor_bonus
        amount: 1
