name: floor_caves
description: "Natural cavern system using cellular automata"
seed: -1
width: 100
height: 100

minFloor: 6
maxFloor: 8

pipeline:
  - pass: cellular_automata
    priority: 0
    config:
      role: base
      fillPercent: 45
      iterations: 5
      birthLimit: 4
      deathLimit: 3
      smoothingIterations: 2

  - pass: connectivity
    priority: 300
    config:
      repairStrategy: mst
      maxCorridorLength: 25

  - pass: validation
    priority: 400
    config:
      minWalkablePercent: 30
      maxWalkablePercent: 55

  - pass: metadata
    priority: 999
    config:
      minRegionSize: 20
      maxPassageWidth: 3

metadata:
  minRegionSize: 20
  maxPassageWidth: 3

spawnTable: floor_caves
