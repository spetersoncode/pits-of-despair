name: scattered_rooms
description: "Chaotic room layout using simple room placement"

dimensions:
  width: 80
  height: 70

passes:
  - pass: simple_rooms
    priority: 0
    config:
      roomAttempts: 40
      minRooms: 8
      maxRooms: 14
      minRoomWidth: 5
      maxRoomWidth: 11
      minRoomHeight: 5
      maxRoomHeight: 11
      roomSpacing: 3
      corridorWidth: 1
      lShaped: true
      extraConnectionChance: 20

  - pass: connectivity
    priority: 300
    config:
      repairStrategy: mst
      maxCorridorLength: 25

  - pass: validation
    priority: 400
    config:
      minWalkablePercent: 15
      maxWalkablePercent: 45
      minRegions: 5
      warnOnFail: true

  - pass: metadata
    priority: 999
    config:
      minRegionSize: 16
      maxPassageWidth: 2

metadata:
  minRegionSize: 16
  maxPassageWidth: 2
  distanceFields:
    - walls
    - entrance
    - exit

# Layout-dependent spawn settings
spawnSettings:
  itemDensity: 0.009
  encounterChance: 0.42
  maxEncounterRatio: 0.36
  minEncounterSpacing: 7
  maxEncountersPerRegion: 1
  playerExclusionRadius: 13
  regionMatchMultiplier: 1.5
  dangerBonusMultiplier: 1.3
  minCreatureCount: 3

  # Scattered rooms with varied sizes
  encounterWeights:
    - id: patrol
      weight: 20
    - id: lair
      weight: 20
    - id: guard
      weight: 20
    - id: ambush
      weight: 15
    - id: swarm
      weight: 15
    - id: solitary
      weight: 10
